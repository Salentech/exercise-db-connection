@using Microsoft.AspNetCore.Mvc.TagHelpers
@{
    var book = ViewBag.Book;
    var reviews = ViewBag.Reviews;
}

<h1>@book.Title</h1>
<p><strong>Author:</strong> @book.Author</p>

<h3>Reviews:</h3>
<table class="table">
    <thead>
    <tr>
        <th>Reviewer</th>
        <th>Rating</th>
        <th>Content</th>
    </tr>
    </thead>
    <tbody>
    @foreach (var review in reviews)
    {
        <tr>
            <td>@review.ReviewerName</td>
            <td>@review.Rating</td>
            <td>@review.Content</td>
        </tr>
    }
    </tbody>
</table>

<h4>Add a Review:</h4>

<form asp-action="AddReview" method="post">
    <input type="hidden" name="BookId" value="@book.Id"/>

    <div class="form-group">
        <label for="ReviewerName">Your Name</label>
        <input type="text" class="form-control" id="ReviewerName" name="ReviewerName" required/>
    </div>

    <div class="form-group">
        <label for="Rating">Rating</label>
        <input type="number" class="form-control" id="Rating" name="Rating" min="1" max="5" required/>
    </div>

    <div class="form-group">
        <label for="Content">Review Content</label>
        <textarea class="form-control" id="Content" name="Content" rows="3" required></textarea>
    </div>

    <button type="submit" class="btn btn-primary">Submit Review</button>
</form>